{% extends 'base.html.twig' %}

{% block title %}Liste des questions{% endblock %}

{% block stylesheets %}<link rel="stylesheet" href="{{ asset('public\assets\css\index.css')}}">{% endblock %}

{% block body %}
<div class="container-fluid text-light">

    <div class="btnNewQuestion">
        <div class="d-grid gap-2 col-2 mx-auto">    
            <a href="{{ path('question_new') }}"><button class="btn btn-light text-dark" type="button" >Ajouter une question</button></a>
        </div>
    </div>

    <h1 class="my-2">Liste des questions</h1>

    <table class="edit-table w-full mb-6">
        <thead>
            <tr>
                <th>Question</th>
                <th>Intitulé</th>
                <th>Propositions</th>
                <th>Réponse</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for question in questions %}
            <tr>
                <td>Figure {{question.title}}</td>
                <td>{{ question.content}}</td>
                <td>
                    {% for answer in question.answers %}
                       <span class="inline-block badge badge-pill py-0 px-2 border rounded-full m-0.5">{{ answer.content }}</span>
                    {% endfor %}
                </td>
                <td>
                    {{question.goodanswer.content}}
                </td>
                <td>                    
                    <a class="md-btn text-light" href="{{ path('question_show', {'id': question.id}) }}"><i class="fas fa-eye iconAction"></i></a>
                    <a class="md-btn text-light" href="{{ path('question_edit', {'id': question.id}) }}"><i class="fas fa-edit iconAction"></i></a>
                    <a class="md-btn text-light" href="{{ path('question_delete', {'id': question.id}) }}"><i class="fas fa-trash"></i></a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">Aucun résultat trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</div>
{% endblock %}
